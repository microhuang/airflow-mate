(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},2395:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("bc3a"),a=n.n(r),i=n("4328"),o=n.n(i),s=n("58ca"),c=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Diagram",{staticClass:"home"})],1)},u=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mid-container"},[n("ToolBar",{attrs:{bpmnModeler:e.bpmnModeler,elementSelector:e.elementSelector,xml:e.xml,scale:e.scale},on:{updateXml:e.updateXml,updateScale:e.updateScale,"update:scale":function(t){e.scale=t}}}),n("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.ds,(function(e,t){return n("el-tab-pane",{key:e.name,attrs:{name:e.name,label:e.name}})})),n("div",{directives:[{name:"show",rawName:"v-show",value:"Diagram"===e.radioValue||"Form"===e.radioValue,expression:"radioValue === 'Diagram' || radioValue === 'Form'"}],staticClass:"bpmn-container"},[n("div",{staticClass:"canvas-container"},[n("div",{ref:"canvas",staticClass:"canves"}),n("div",{staticClass:"properties",class:{open:e.openPanel,close:!e.openPanel}},[n("div",{staticClass:"toggle",on:{click:function(t){e.openPanel=!e.openPanel}}},[e._v("Properties Panel")]),n("div",{ref:"propertiesPanel",staticClass:"panel"})])])]),e.isShowXml?n("div",{staticClass:"xml-container"},[n("codemirror",{ref:"cmEditor",attrs:{value:e.xml.toString(),options:e.cmOptions},on:{changes:e.mirrorCodeChange}})],1):e._e(),e.isShowForm?n("div",{staticClass:"form-container"},[n("div")]):e._e()],2),n("div",{staticClass:"bottom-container"},[n("el-radio-group",{attrs:{size:"mini"},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[n("el-radio-button",{attrs:{label:"Diagram"}}),n("el-radio-button",{attrs:{label:"Xml"}}),n("el-radio-button",{attrs:{label:"Form"}})],1)],1)],1)},p=[],m=n("1da1"),h=n("5530"),f=(n("96cf"),n("ac1f"),n("5319"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("841c"),n("b0c0"),n("159b"),n("25f0"),n("99af"),n("7024")),b=n("3fb5"),g=n.n(b),v=n("87f2");function y(e,t,n,r,a,i,o,s,c){this.bpmnFactory=e,this._palette=t,this._create=n,this._elementFactory=r,this._spaceTool=a,this._lassoTool=i,this._handTool=o,this._globalConnect=s,this._translate=c,t.registerProvider(this)}y.$inject=["bpmnFactory","palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],y.prototype.getPaletteEntries=function(e){var t={},n=this._create,r=this._elementFactory,a=this._spaceTool,i=this._lassoTool,o=this._handTool,s=this._globalConnect,c=this._translate,l=this.bpmnFactory;function u(e,t,a,i,o){function s(t){var a=r.createShape(Object(v["assign"])({type:e},o));o&&(a.businessObject.di.isExpanded=o.isExpanded),n.start(t,a)}var l=e.replace(/^bpmn:/,"");return{group:t,className:a,title:i||c("Create {type}",{type:l}),action:{dragstart:s,click:s}}}function d(e){var t=r.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),a=r.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:t});n.start(e,[t,a],{hints:{autoSelect:[a]}})}function p(e){n.start(e,r.createParticipantShape())}function m(e){return function(t){var a=l.create("bpmn:Task",{taskType:e}),i=r.createShape({type:"bpmn:Task",businessObject:a});r.createLabel();n.start(t,i)}}return Object(v["assign"])(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:c("Activate the hand tool"),action:{click:function(e){o.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:c("Activate the lasso tool"),action:{click:function(e){i.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:c("Activate the create/remove space tool"),action:{click:function(e){a.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:c("Activate the global connect tool"),action:{click:function(e){s.start(e)}}},"tool-separator":{group:"tools",separator:!0},"create.dummy-task":{group:"customs",className:"icon-custom dummy-task",title:c("DummyOperator"),action:{dragstart:m("DummyOperator"),click:m("DummyOperator")}},"create.shortcircuit-task":{group:"customs",className:"icon-custom shortcircuit-task",title:c("ShortCircuitOperator"),action:{dragstart:m("ShortCircuitOperator"),click:m("ShortCircuitOperator")}},"create.branch-task":{group:"customs",className:"icon-custom branchpython-task",title:c("BranchPythonOperator"),action:{dragstart:m("BranchPythonOperator"),click:m("BranchPythonOperator")}},"create.flow-task":{group:"customs",className:"icon-custom flow-task",title:c("FlowOperator"),action:{dragstart:m("FlowOperator"),click:m("FlowOperator")}},"create.ssh-task":{group:"customs",className:"icon-custom python-task",title:c("PythonOperator"),action:{dragstart:m("PythonOperator"),click:m("PythonOperator")}},"create.bash-task":{group:"customs",className:"icon-custom ssh-task",title:c("SSHOperator"),action:{dragstart:m("SSHOperator"),click:m("SSHOperator")}},"create.python-task":{group:"customs",className:"icon-custom bash-task",title:c("BashOperator"),action:{dragstart:m("BashOperator"),click:m("BashOperator")}},"create.sftp-task":{group:"customs",className:"icon-custom sftp-task",title:c("SFTPOperator"),action:{dragstart:m("SFTPOperator"),click:m("SFTPOperator")}},"create.ExternalTaskSensor":{group:"customs",className:"icon-custom external-task-sensor",title:c("ExternalTaskSensor, 跨DAG依赖关联外部任务"),action:{dragstart:m("ExternalTaskSensor"),click:m("ExternalTaskSensor")}},"create.ExternalTaskMarker":{group:"customs",className:"icon-custom external-task-marker",title:c("ExternalTaskMarker, 跨DAG关联标记外部任务"),action:{dragstart:m("ExternalTaskMarker"),click:m("ExternalTaskMarker")}},"custom-separator":{group:"customs",separator:!0},"create.start-event":u("bpmn:StartEvent","event","bpmn-icon-start-event-none",c("Create StartEvent")),"create.intermediate-event":u("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",c("Create Intermediate/Boundary Event")),"create.end-event":u("bpmn:EndEvent","event","bpmn-icon-end-event-none",c("Create EndEvent")),"create.exclusive-gateway":u("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",c("Create Gateway")),"create.task":u("bpmn:Task","activity","bpmn-icon-task",c("Create Task")),"create.data-object":u("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",c("Create DataObjectReference")),"create.data-store":u("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",c("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:c("Create expanded SubProcess"),action:{dragstart:d,click:d}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:c("Create Pool/Participant"),action:{dragstart:p,click:p}},"create.group":u("bpmn:Group","artifact","bpmn-icon-group",c("Create Group"))}),t};n("caad"),n("2532");var _=n("5e40"),k=n("6b8b"),x=["ExternalTaskMarker","ExternalTaskSensor","SubDagOperator","SFTPOperator","FlowOperator","DummyOperator","BashOperator","SSHOperator","PythonOperator","BranchPythonOperator","ShortCircuitOperator","SqlSensor","LoopWaitDynamicOperator"],w={LoopWaitDynamicOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},ExternalTaskMarker:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},ExternalTaskSensor:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},SubDagOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},SFTPOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},FlowOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},DummyOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},BashOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},SSHOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},PythonOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},BranchPythonOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},ShortCircuitOperator:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},SqlSensor:{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png",attr:{x:0,y:0,width:48,height:48}},"bpmn:StartEvent":{url:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/start.png",attr:{x:0,y:0,width:40,height:40}}},O=["bpmn:StartEvent","bpmn:EndEvent","DummyOperator","BashOperator","SSHOperator","PythonOperator","BranchPythonOperator","ShortCircuitOperator","SqlSensor","FlowOperator","SFTPOperator","SubDagOperator","ExternalTaskSensor","ExternalTaskMarker","LoopWaitDynamicOperator"];function P(e,t,n,r,a,i,o){_["a"].call(this,e,t,n,r,a,i,o||1200);this.drawShape,n.computeStyle;this.drawCustomElements=function(e,t){var n=t.businessObject.$attrs.taskType;if("label"!==n){if(x.includes(n)){var r=w[n],a=(r.url,r.attr),i=Object(k["f"])("rect",{width:60,height:50,rx:10,ry:10,stroke:"black",strokeWidth:2,x:0,y:0,fill:"white",fillOpacity:.95});if(Object(k["a"])(e,i),t["width"]=a.width+8,t["height"]=a.height,O.includes(n)&&t.businessObject.name){var o=Object(k["f"])("text",{class:"djs-label","font-family":"Arial, sans-serif","font-size":"12px","font-weight":"normal",fill:"black",lineHeight:1.2});o.innerHTML='<tspan x="10" y="30">'+t.businessObject.name+"</tspan>",Object(k["a"])(e,o)}var s=Object(k["f"])("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",width:"30",height:"20"});return"SSHOperator"==n?s.innerHTML='<path d="M263.616 870.016l440.256-751.872 61.376 35.904-440.256 751.808-61.376-35.84zM78.016 509.504l192.768-190.592-4.864-8.512-32.256-55.04-205.76 203.648a72.32 72.32 0 0 0-0.768 101.76l205.76 207.872 37.504-64.192-192.384-194.944zM996.032 459.008l-205.76-203.648-32.256 55.04-4.928 8.576 192.832 190.592-192.448 194.944 37.44 64.192 205.824-207.872a72.384 72.384 0 0 0-0.704-101.824z"></path>':"FlowOperator"==n?s.innerHTML='<path d="M878.159424 565.40635l-327.396585 0c-11.307533 0-20.466124 9.168824-20.466124 20.466124l0 327.396585c0 11.307533 9.15859 20.466124 20.466124 20.466124l327.396585 0c11.2973 0 20.466124-9.15859 20.466124-20.466124l0-327.396585C898.625548 574.575174 889.456724 565.40635 878.159424 565.40635zM857.6933 892.802936l-286.464337 0 0-286.464337 286.464337 0L857.6933 892.802936z" p-id="1552"></path><path d="M430.606225 565.40635l-327.396585 0c-11.2973 0-20.466124 9.168824-20.466124 20.466124l0 327.396585c0 11.307533 9.168824 20.466124 20.466124 20.466124l327.396585 0c11.307533 0 20.466124-9.15859 20.466124-20.466124l0-327.396585C451.072349 574.575174 441.913758 565.40635 430.606225 565.40635zM410.140101 892.802936l-286.464337 0 0-286.464337 286.464337 0L410.140101 892.802936z" p-id="1553"></path><path d="M430.606225 115.601878l-327.396585 0c-11.2973 0-20.466124 9.15859-20.466124 20.466124l0 327.386352c0 11.307533 9.168824 20.466124 20.466124 20.466124l327.396585 0c11.307533 0 20.466124-9.15859 20.466124-20.466124l0-327.386352C451.072349 124.760468 441.913758 115.601878 430.606225 115.601878zM410.140101 442.98823l-286.464337 0 0-286.454104 286.464337 0L410.140101 442.98823z" p-id="1554"></path><path d="M965.529307 277.744745l-214.433814-214.433814c-3.837398-3.837398-9.046027-5.996574-14.46955-5.996574-5.433756 0-10.632151 2.159176-14.479783 5.996574l-214.433814 214.433814c-7.992021 7.992021-7.992021 20.957311 0 28.949332l214.433814 214.433814c4.001127 3.990894 9.240455 5.996574 14.479783 5.996574 5.229095 0 10.468422-2.00568 14.46955-5.996574l214.433814-214.433814c3.837398-3.837398 5.996574-9.046027 5.996574-14.46955C971.525881 286.790772 969.366705 281.582143 965.529307 277.744745zM736.625944 477.709009l-185.494715-185.484482 185.494715-185.494715 185.484482 185.494715L736.625944 477.709009z" p-id="1555"></path>':"BashOperator"==n?s.innerHTML='<path d="M365.568 402.432h290.816v71.68H365.568v-71.68z m0 145.408h290.816v71.68H365.568v-71.68z m0 145.408h290.816v71.68H365.568v-71.68zM873.472 40.96H293.888C215.04 40.96 149.504 104.448 149.504 185.344v652.288H4.096C4.096 917.504 67.584 983.04 149.504 983.04h580.608c78.848 0 145.408-64.512 145.408-145.408V257.024h145.408v-71.68C1017.856 104.448 954.368 40.96 873.472 40.96z m-71.68 784.384c0 47.104-37.888 84.992-84.992 84.992H185.344c35.84-24.576 35.84-71.68 35.84-71.68V185.344c0-39.936 31.744-71.68 71.68-71.68s71.68 31.744 71.68 71.68v71.68h435.2v567.296h2.048zM439.296 185.344v-71.68h435.2c65.536 0 71.68 41.984 71.68 71.68H439.296z" fill="#BABABA" p-id="15086"></path>':"PythonOperator"==n?s.innerHTML='<path d="M128 96m32 0l704 0q32 0 32 32l0 768q0 32-32 32l-704 0q-32 0-32-32l0-768q0-32 32-32Z" fill="#FFFFFF" p-id="13111"></path><path d="M896 832v64a32 32 0 0 1-32 32v-96h32z m-320 64v32H160a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32h704a32 32 0 0 1 32 32v416h-32V128H160v768h416z" fill="#5D6D7E" p-id="13112"></path><path d="M224 224h576v32H224V224z m0 128h576v32H224V352z" fill="#CDD3DA" p-id="13113"></path><path d="M224 224h352v32H224V224z m0 128h352v32H224V352z m0 128h224v32H224v-32z" fill="#ACB4C0" p-id="13114"></path><path d="M841.152 632.256s-28.224 70.72-73.152 72.992h-96s-62.208-19.936-68.608 46.208v59.584l-32.704 0.224s-56.416 4.8-56.416-112.032c0-58.24 56.416-59.232 56.416-59.232H736v-32h-128v-96s25.664-8.128 43.36-16.64c19.968-9.76 55.488-14.752 84.64-15.36 66.88-1.376 101.344 19.968 104.832 63.296l0.32 88.96zM640 544v32h32v-32h-32z" fill="#3B97D3" p-id="13115"></path>':"DummyOperator"==n?s.innerHTML='<path d="M539.592 88c3.491 0 6.892 0.389 10.16 1.125a29.813 29.813 0 0 1 19.4 7.769l0.574 0.535 299.147 286.514a30.11 30.11 0 0 1 3.384 3.841c7.895 8.26 12.743 19.457 12.743 31.784v420.874C885 910.338 828.326 967 758.415 967h-494.83C193.674 967 137 910.338 137 840.442V214.558C137 144.662 193.674 88 263.585 88h276.007z m-13.81 59.827H263.586c-36.494 0-66.147 29.282-66.736 65.627l-0.009 1.104v625.884c0 36.486 29.288 66.133 65.64 66.722l1.105 0.009h494.83c36.494 0 66.147-29.282 66.736-65.627l0.009-1.104V433.373l-205.014 0.002c-51.594 0-93.517-41.399-94.35-92.783l-0.013-1.56V147.827z m245.734 225.72L585.622 195.504l0.001 143.528c0 19.062 15.456 34.515 34.523 34.515h151.37z" fill="#333333" p-id="12562"></path>':"ShortCircuitOperator"==n?s.innerHTML='<path d="M832 272c0-62.4-51-112.9-113.6-112-60.7 0.9-110 50.6-110.4 111.3-0.3 52.6 35.6 96.8 84.2 109.2 14 3.6 23.8 16 24.1 30.4 0.5 27.3-4.4 57.4-22.3 82.5-28.7 40.3-80.7 54.9-126.6 67.8-29 8.1-50.1 10.2-68.7 12-26.4 2.6-51.4 5.1-82.6 23-6.6 3.8-13.1 8-19.2 12.6-5.3 4-12.8 0.2-12.8-6.4V241.3c0-12.2 6.8-23.5 17.7-28.9 37.1-18.4 62.6-56.8 62.3-101.1-0.5-62.8-53.2-113.4-116-111.2C288.1 2.1 240 51.4 240 112c0 44 25.4 82.1 62.3 100.4 10.9 5.4 17.7 16.5 17.7 28.6v541.7c0 12.2-6.8 23.5-17.7 28.9-37.1 18.4-62.6 56.8-62.3 101.1 0.4 62.8 53.1 113.3 115.9 111.2C416 1021.9 464 972.5 464 912c0-44-25.4-82.1-62.3-100.4-10.9-5.4-17.7-16.5-17.7-28.6v-19.2c0-42 19.9-81.8 54.3-105.9 3.1-2.2 6.4-4.3 9.7-6.2 19.3-11.1 33.5-12.5 57-14.8 20.2-2 45.3-4.5 79.7-14.1 50.5-14.2 119.6-33.5 161.4-92.3 24-33.7 35.4-75 34.1-123-0.2-6.9-0.7-13.8-1.4-20.9-1.1-10.7 3.5-21 11.8-27.8 25.3-20.4 41.4-51.7 41.4-86.8zM304 112c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48z m96 800c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48z m320-592c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z" p-id="1080"></path>':"BranchPythonOperator"==n||"SFTPOperator"==n||"LoopWaitDynamicOperator"==n||"ExternalTaskMarker"==n||"ExternalTaskSensor"==n||"SubDagOperator"==n?s.innerHTML='<path d="M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9z m-673 138.4c-22.8 13.2-52.1 5.4-65.2-17.6-13.2-22.9-5.4-52.3 17.5-65.5 22.8-13.2 52.1-5.4 65.2 17.6 13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48z m170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4z m239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z" p-id="948"></path>':"SqlSensor"==n&&(s.innerHTML='<path d="M776.533333 755.456H598.903467c-14.421333 0-26.112 12.475733-26.112 27.869867v168.618666h28.433066L776.533333 760.439467v-4.983467zM776.533333 699.733333v-88.183466c0-15.189333 11.4688-27.477333 25.6-27.477334s25.6 12.288 25.6 27.477334v160.136533c0 7.2192-2.645333 14.1312-7.338666 19.285333L630.2208 998.7072a24.746667 24.746667 0 0 1-18.261333 8.226133H228.693333C163.669333 1006.933333 110.933333 950.306133 110.933333 880.452267V143.530667C110.933333 73.693867 163.669333 17.066667 228.693333 17.066667h481.28C774.997333 17.066667 827.733333 73.693867 827.733333 143.547733v48.930134c0 15.189333-11.4688 27.477333-25.6 27.477333s-25.6-12.288-25.6-27.477333V143.530667c0-39.4752-29.7984-71.492267-66.56-71.492267H228.693333c-36.7616 0-66.56 32.017067-66.56 71.509333v736.887467c0 39.4752 29.7984 71.492267 66.56 71.492267H520.533333v-168.618667C520.533333 737.160533 555.6224 699.733333 598.903467 699.733333H776.533333zM367.7696 280.576c27.272533 0 47.530667 5.512533 60.416 16.896 13.687467 11.997867 19.1488 30.8224 16.093867 56.149333h-37.666134c-0.238933-14.2848-4.215467-24.6784-11.3664-30.839466-7.0656-6.485333-19.456-9.4208-36.317866-9.4208-14.609067 0-26.0608 1.9456-34.747734 6.178133-10.752 4.864-17.015467 12.970667-19.336533 24.0128-2.048 9.745067 1.4336 17.8688 11.246933 23.722667 4.317867 2.577067 16.605867 7.458133 36.608 14.267733 29.44 9.728 47.9232 17.527467 55.927467 22.7328 17.578667 12.014933 24.1664 28.5696 19.6608 50.005333-4.369067 20.770133-15.9744 37.3248-34.730667 49.322667-18.688 11.690667-43.042133 17.8688-72.584533 17.8688-28.5696 0-49.8176-5.5296-63.402667-16.554667-16.605867-13.653333-22.801067-35.072-18.210133-64.6144h37.666133c-1.092267 17.527467 2.389333 30.208 10.888534 37.666134 7.7312 6.485333 20.9408 10.069333 40.106666 10.069333 16.878933 0 31.112533-2.935467 42.018134-8.448 10.973867-5.8368 17.749333-13.312 19.797333-23.04 2.594133-12.356267-2.833067-22.084267-15.616-29.2352-4.061867-2.269867-17.902933-7.458133-41.915733-15.2576-26.658133-9.079467-43.144533-15.581867-49.152-19.473067-15.581867-10.717867-21.077333-26.299733-16.776534-46.762666 4.3008-20.445867 16.162133-36.676267 36.164267-48.366934 18.602667-11.3664 40.226133-16.878933 65.2288-16.878933z m249.122133 0c35.3792 0 60.910933 11.3664 76.509867 34.4064 14.8992 21.76 18.568533 50.653867 11.042133 86.357333-7.304533 34.747733-22.664533 62.976-45.346133 84.411734 6.109867 11.042133 12.424533 22.7328 18.261333 35.072l-29.184 21.418666a712.5504 712.5504 0 0 0-18.1248-35.703466c-18.944 9.728-40.482133 14.933333-63.863466 14.933333-35.703467 0-61.166933-11.690667-76.509867-34.423467-14.848-22.0672-18.244267-50.6368-10.8544-85.7088 7.441067-35.3792 22.869333-63.9488 47.0016-86.016 25.0368-23.381333 55.3472-34.747733 91.067733-34.747733z m-7.048533 33.450667c-24.0128 0-44.2368 8.106667-60.962133 24.337066-15.940267 15.581867-26.4704 36.352-32.085334 62.976-5.5296 26.299733-3.7376 47.086933 5.649067 62.6688 9.642667 15.906133 26.760533 24.029867 50.7904 24.029867a90.794667 90.794667 0 0 0 41.2672-9.4208c-8.704-14.2848-17.066667-26.948267-25.378133-38.314667l26.5728-21.418666a704.085333 704.085333 0 0 1 25.838933 37.649066c11.451733-14.2848 19.899733-32.785067 24.610133-55.1936 5.7344-27.255467 3.754667-48.6912-5.632-64.273066-9.710933-15.581867-26.624-23.04-50.670933-23.04z m171.434667-28.910934h37.666133l-41.949867 199.338667h125.320534l-6.826667 32.477867h-162.986667l48.776534-231.816534z" p-id="3270"></path>'),Object(k["a"])(e,s),i}var c=this.bpmnRenderer.drawShape(e,t);return c}}}g()(P,_["a"]),P.$inject=["config","eventBus","styles","pathMap","canvas","textRenderer"],P.prototype.canRender=function(e){return!0},P.prototype.drawShape=function(e,t){var n=t.businessObject.$attrs.taskType;if(x.includes(n))return this.drawCustomElements(e,t)},_["a"].prototype.createPathFromConnection=function(e){var t=e.waypoints,n="m  "+t[0].x+","+t[0].y;if(4==t.length)return n+="C"+t[1].x+","+t[1].y+" "+t[2].x+","+t[2].y+" "+t[3].x+","+t[3].y+" ",n;for(var r=1;r<t.length;r++)n+="L"+t[r].x+","+t[r].y+" ";return n},P.prototype.drawConnection=function(e,t){},P.prototype.getShapePath=function(e){};var E=n("a542");function S(e,t,n,r){e.invoke(E["a"],this);var a=Object(v["bind"])(this.getContextPadEntries,this),i=(this._autoPlace,this._elementFactory,["DummyOperator","ShortCircuitOperator","BranchPythonOperator","PythonOperator","FlowOperator","SSHOperator","BashOperator","SFTPOperator","SubDagOperator","ExternalTaskSensor","ExternalTaskMarker","LoopWaitDynamicOperator"]);this.getContextPadEntries=function(e){var t=a(e);return Object(v["some"])(i,e.businessObject.$attrs.taskType)&&(delete t["append.append-task"],delete t["append.end-event"],delete t["append.gateway"],delete t["append.intermediate-event"]),(e.source&&e.source.businessObject.$attrs.taskType&&Object(v["some"])(i,e.source.businessObject.$attrs.taskType)||e.target&&e.target.businessObject.$attrs.taskType&&Object(v["some"])(i,e.target.businessObject.$attrs.taskType))&&delete t["replace"],t}}g()(S,E["a"]),S.$inject=["injector","connect","translate","create"];var j={__init__:["paletteProvider","customRenderer","contextPadProvider"],paletteProvider:["type",y],customRenderer:["type",P],contextPadProvider:["type",S]};function T(e){f["a"].call(this,e),this._customElements=[]}g()(T,f["a"]),T.prototype._modules=[].concat(T.prototype._modules,[j]);n("f910"),n("2c13"),n("e7f6"),n("1e9e"),n("e278"),n("a557"),n("525f");var C=n("5f33"),M=n("1cdc6"),B=n.n(M),F=n("04be"),$=n.n(F),D=(n("498a"),n("7db0"),n("4e82"),n("e812")),L=n.n(D),N=n("7a6b"),A=n("e506").domify,R=(n("e506").query,n("2ac4")),z=n("7a6b").getBusinessObject,q=(n("3079"),n("306a")),I=(n("2659"),n("be86"),function(e,t,n,r,a,i,o){if(Object(N["is"])(t,"bpmn:Process")){if(Object(N["is"])(t,"bpmn:Process"))if("general-magic"==e.id)q(e,t,n),e.entries.push(L.a.validationAwareTextField(n,{id:"name",description:"dag name, e.g. xxx",label:"name",modelProperty:"name",getProperty:function(e){return e.businessObject.name?e.businessObject.name:e.businessObject.$attrs.name},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.name||(n.name="dag name"),n}})),e.entries.push(L.a.textBox(n,{id:"description",description:"description",label:"description",modelProperty:"documentation",get:function(e){var t="";return e.businessObject.get("documentation")&&e.businessObject.get("documentation").length>0&&(t=e.businessObject.get("documentation")[0].text),{documentation:t}},set:function(e,t){var n=z(e),r=n.id;return n.$attrs["documentationRef"]=r,R.setList(e,n,"documentation",[a.create("bpmn:Documentation",{id:r,text:t.documentation})])}}));else if("connector-magic"==e.id);else if("config-magic"==e.id){s=[{name:"",value:""}];s.push({name:"Dag",value:"Dag"}),s.push({name:"Flow",value:"Flow"}),e.entries.push(L.a.selectBox(n,{id:"airflow_type",description:"type",label:"type",modelProperty:"airflow_type",selectOptions:s,get:function(e,t){return e.businessObject.$attrs.airflow_type||(e.businessObject.$attrs["airflow_type"]="Dag"),{airflow_type:e.businessObject.$attrs.airflow_type}},set:function(e,t,n){return R.updateProperties(e,t)},hidden:function(e,t){return!1}})),e.entries.push(L.a.textField(n,{id:"queue",description:"dag celery queue",label:"queue",modelProperty:"queue"})),e.entries.push(L.a.validationAwareTextField(n,{id:"owner",description:"dag owner, e.g. xxx",label:"owner",modelProperty:"owner",getProperty:function(e){return e.businessObject.owner?e.businessObject.owner:e.businessObject.$attrs.owner},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.owner||(n.owner="dag owner"),n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"start",description:"dag start, e.g. 2021-07-26 12:12:12",label:"start",modelProperty:"start",getProperty:function(e){return e.businessObject.start?e.businessObject.start:e.businessObject.$attrs.start},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.start||(n.start="dag start"),n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"end",description:"dag end, e.g. 2021-08-08 12:12:12",label:"end",modelProperty:"end",getProperty:function(e){return e.businessObject.end?e.businessObject.end:e.businessObject.$attrs.end},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.end||(n.end="dag end"),n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"schedule",description:"dag schedule, e.g. * * * * *",label:"schedule",modelProperty:"schedule",getProperty:function(e){return e.businessObject.schedule?e.businessObject.schedule:e.businessObject.$attrs.schedule},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.schedule||(n.schedule="dag schedule"),n}})),e.entries.push(L.a.textField(n,{id:"timeout",description:"dag timeout, e.g. 60",label:"timeout",modelProperty:"timeout"})),e.entries.push(L.a.textField(n,{id:"email",description:"dag email, e.g. xxxx@xxxx",label:"email",modelProperty:"email"})),e.entries.push(L.a.textField(n,{id:"tags",description:"dag tags, e.g. xxx",label:"tags",modelProperty:"tags"})),e.entries.push(L.a.checkbox(n,{id:"catchup",description:"dag catchup",label:"catchup",modelProperty:"catchup"}))}}else if("general-magic"==e.id)q(e,t,n),e.entries.push(L.a.validationAwareTextField(n,{id:"name",description:"task name, e.g. xxxx",label:"name",modelProperty:"name",getProperty:function(e){return e.businessObject.name?e.businessObject.name:e.businessObject.$attrs.name},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.name||"bpmn:SequenceFlow"==e.businessObject.$type||(n.name="task name"),n}})),e.entries.push(L.a.textBox(n,{id:"description",description:"task description",label:"description",modelProperty:"description"}));else if("connector-magic"==e.id&&t.businessObject.$attrs["taskType"]){var s=[{name:"",value:""}];t.incoming.forEach((function(e,t,n){s.push({name:e.id,value:e.id})}));var c=L.a.textField(n,{id:"_stream",description:"_stream",label:"_stream",modelProperty:"_stream",get:function(e,t){return e.businessObject.$attrs},set:function(e,t,n){if(t.stream){t.stream=t.stream.trim();var r=JSON.parse(t.stream);if(r.orderby);else if(r.chk){a=i.get(r.id);"up"==r.type?o.connect(a,e):o.connect(e,a)}else if("up"==r.type){var a=e.incoming.find((function(e){if(r.id==e.businessObject.sourceRef.id)return e}));o.removeConnection(a)}else{var a=e.outgoing.find((function(e){if(r.id==e.businessObject.targetRef.id)return e}));o.removeConnection(a)}}return[R.updateProperties(e,t)]},hidden:function(e,t){return!0}}),l="",u=0;t.businessObject.$parent.flowElements.sort((function(e,n){if("bpmn:SequenceFlow"===e.$type)return!1;var r=t.businessObject.$attrs.orderby;return"name"===r?e.name>n.name:"up"===r?t.incoming.some((function(t){return t.source.id==e.id})):"down"===r?t.outgoing.some((function(t){return t.target.id==e.id})):void 0})).forEach((function(e,n,r){if(console.log(e.name),e.id!==t.id&&"bpmn:SequenceFlow"!==e.$type){var a=' class="" ',i=' class="" ';t.incoming.some((function(t){if(t.businessObject.sourceRef.id==e.id)return a=' checked="checked" ',!0})),t.outgoing.some((function(t){if(t.businessObject.targetRef.id==e.id)return i=' checked="checked" ',!0})),u++,l+='<tr id="l_'+e.name+'" line="'+u+"\"><td><input type=\"CheckBox\" onchange=\"{if(this.checked&&document.getElementById('down'+this.id.substring(2,)).checked){alert('up or down ?');this.checked=false;return false;};document.getElementById('camunda-stream').value=JSON.stringify({id:this.value,chk:this.checked,type:'up'});}\" id=\"up_"+e.id+'" value="'+e.id+'" '+a+'/></td><td style="width:100%;padding-left:5px;padding-right:5px;" title="'+e.name+", "+e.id+'"> '+e.name+" <br/> "+e.id+"</td><td><input type=\"CheckBox\" onchange=\"{if(this.checked&&document.getElementById('up'+this.id.substring(4,)).checked){alert('up or down ?');this.checked=false;return false;};document.getElementById('camunda-stream').value=' '.repeat(100)+JSON.stringify({id:this.value,chk:this.checked,type:'down'});}\" id=\"down_"+e.id+'" value="'+e.id+'" '+i+"/></td></tr>\n"}})),l&&(l="<h4>"+t.id+' stream</h4><div style="width:0px;height:0px;overflow:hidden;"><input id="camunda-stream" name="stream" type="text" onkeypress="if(event.keyCode == 13){this.nextSibling.scrollTop=document.getElementById(\'l_\'+this.value).getAttribute(\'line\')*100;}"/></div><div style="/*width:350px;height:200px;overflow:scroll;*/"><table style="/*table-layout: fixed;*/border-collapse:separate; border-spacing:0px 3px;width:99%;"><thead style="display:table;"><tr><td style="width:20px;white-space:nowrap;"><label title="点击排序"><input name="orderby" type="radio" onchange="{document.getElementById(\'camunda-stream\').value=JSON.stringify({orderby:\'up\'});}" value="up" /></label><span>up</span></td><td style="width:100%;"><label title="点击排序"><input name="orderby" type="radio" onchange="{document.getElementById(\'camunda-stream\').value=JSON.stringify({orderby:\'name\'}); }" value="name" /></label><span>node name <br/>  node id</span></td><td style="width:30px;white-space:nowrap;"><label title="点击排序"><input name="orderby" type="radio" onchange="{document.getElementById(\'camunda-stream\').value=JSON.stringify({orderby:\'down\'}); }" value="down" /></label><span>down</span></td></tr></thead><tbody style="width:100%;height:200px;overflow:scroll;display:block;">\n'+l+"\n</tbody></table></div>",c.html.appendChild(A(l))),e.entries.push(c)}else if("action-magic"==e.id&&t.businessObject.$attrs["taskType"])"DummyOperator"!=t.businessObject.$attrs["taskType"]&&"ExternalTaskMarker"!=t.businessObject.$attrs["taskType"]&&"ExternalTaskSensor"!=t.businessObject.$attrs["taskType"]&&"LoopWaitDynamicOperator"!=t.businessObject.$attrs["taskType"]&&(e.entries.push(L.a.validationAwareTextField(n,{id:"external_dag_id",description:"external_dag_id",label:"external_dag_id",modelProperty:"external_dag_id",getProperty:function(e){return e.businessObject.external_dag_id?e.businessObject.external_dag_id:e.businessObject.$attrs.external_dag_id},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.external_dag_id||(n.external_dag_id="external_dag_id"),n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"external_task_ids",description:"external_task_ids",label:"external_task_ids",modelProperty:"external_task_ids",getProperty:function(e){return e.businessObject.external_task_ids?e.businessObject.external_task_ids:e.businessObject.$attrs.external_task_ids},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"execution_delta",description:"execution_delta",label:"execution_delta",modelProperty:"execution_delta",getProperty:function(e){return e.businessObject.execution_delta?e.businessObject.execution_delta:e.businessObject.$attrs.execution_delta},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.execution_delta||(n.execution_delta="execution_delta"),n}})),e.entries.push(L.a.checkbox(n,{id:"enable_pre_action",description:"enable_pre_action",label:"enable_pre_action",modelProperty:"enable_pre_action"})),e.entries.push(L.a.checkbox(n,{id:"enable_post_action",description:"enable_post_action",label:"enable_post_action",modelProperty:"enable_post_action"})));else if("config-magic"==e.id&&t.businessObject.$attrs["taskType"]){var s=[{name:"",value:""}];x.forEach((function(e,t,n){s.push({name:e,value:e})})),e.entries.push(L.a.selectBox(n,{id:"type",description:"task type",label:"type",modelProperty:"taskType",selectOptions:s,get:function(e,t){return{taskType:e.businessObject.$attrs["taskType"]}},set:function(e,t,n){return R.updateProperties(e,t)},hidden:function(e,t){return!1}})),e.entries.push(L.a.textField(n,{id:"queue",description:"task queue",label:"queue",modelProperty:"queue"})),e.entries.push(L.a.textField(n,{id:"tags",description:"dag tags, e.g. xxx",label:"tags",modelProperty:"tags"})),e.entries.push(L.a.textField(n,{id:"timeout",description:"task timeout",label:"timeout",modelProperty:"timeout"})),e.entries.push(L.a.textField(n,{id:"email",description:"task email",label:"email",modelProperty:"email"}));s=[{name:"",value:""}];if(s.push({name:"all_success",value:"all_success"}),s.push({name:"one_success",value:"one_success"}),s.push({name:"all_failed",value:"all_failed"}),s.push({name:"one_failed",value:"one_failed"}),s.push({name:"none_failed",value:"none_failed"}),s.push({name:"all_done",value:"all_done"}),s.push({name:"dummy",value:"dummy"}),s.push({name:"none_failed_or_skipped",value:"none_failed_or_skipped"}),s.push({name:"none_skipped",value:"none_skipped"}),e.entries.push(L.a.selectBox(n,{id:"trigger_rules",description:"task trigger rules",label:"trigger rules",modelProperty:"trigger_rules",selectOptions:s,get:function(e,t){return e.businessObject.$attrs.trigger_rules||(e.businessObject.$attrs["trigger_rules"]="all_success"),{trigger_rules:e.businessObject.$attrs.trigger_rules}},set:function(e,t,n){return R.updateProperties(e,t)}})),"DummyOperator"!=t.businessObject.$attrs["taskType"]&&"ExternalTaskMarker"!=t.businessObject.$attrs["taskType"]&&t.businessObject.$attrs["taskType"],"DummyOperator"==t.businessObject.$attrs["taskType"]||"BranchPythonOperator"==t.businessObject.$attrs["taskType"]||"SqlSensor"==t.businessObject.$attrs["taskType"]);else if("LoopWaitDynamicOperator"==t.businessObject.$attrs["taskType"])e.entries.push(L.a.validationAwareTextField(n,{id:"pre_func",description:"pre_func",label:"pre_func",modelProperty:"pre_func",getProperty:function(e){return e.businessObject.pre_func?e.businessObject.pre_func:e.businessObject.$attrs.pre_func},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.pre_func||(n.pre_func="pre_func"),n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"post_func",description:"post_func",label:"post_func",modelProperty:"post_func",getProperty:function(e){return e.businessObject.pre_func?e.businessObject.post_func:e.businessObject.$attrs.post_func},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.post_func||(n.post_func="post_func"),n}}));else if("ExternalTaskMarker"==t.businessObject.$attrs["taskType"])e.entries.push(L.a.validationAwareTextField(n,{id:"external_dag_id",description:"child_dag_id",label:"child_dag_id",modelProperty:"external_dag_id",getProperty:function(e){return e.businessObject.external_dag_id?e.businessObject.external_dag_id:e.businessObject.$attrs.external_dag_id},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.external_dag_id||(n.external_dag_id="child_dag_id"),n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"external_task_id",description:"child_task_id",label:"child_task_id",modelProperty:"external_task_id",getProperty:function(e){return e.businessObject.external_task_id?e.businessObject.external_task_id:e.businessObject.$attrs.external_task_id},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.external_task_id||(n.external_task_id="child_task_id"),n}}));else if("ExternalTaskSensor"==t.businessObject.$attrs["taskType"])e.entries.push(L.a.validationAwareTextField(n,{id:"external_dag_id",description:"parent_dag_id",label:"parent_dag_id",modelProperty:"external_dag_id",getProperty:function(e){return e.businessObject.external_dag_id?e.businessObject.external_dag_id:e.businessObject.$attrs.external_dag_id},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.external_dag_id||(n.external_dag_id="parent_dag_id"),n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"external_task_ids",description:"parent_task_ids",label:"parent_task_ids",modelProperty:"external_task_ids",getProperty:function(e){return e.businessObject.external_task_ids?e.businessObject.external_task_ids:e.businessObject.$attrs.external_task_ids},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return n}})),e.entries.push(L.a.validationAwareTextField(n,{id:"execution_delta",description:"execution_delta",label:"execution_delta",modelProperty:"execution_delta",getProperty:function(e){return e.businessObject.execution_delta?e.businessObject.execution_delta:e.businessObject.$attrs.execution_delta},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.execution_delta||(n.execution_delta="execution_delta"),n}}));else if("SubDagOperator"==t.businessObject.$attrs["taskType"])e.entries.push(L.a.validationAwareTextField(n,{id:"subdag_id",description:"sub dag id",label:"subdag_id",modelProperty:"subdag_id",getProperty:function(e){return e.businessObject.subdag_id?e.businessObject.subdag_id:e.businessObject.$attrs.subdag_id},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.subdag_id||(n.subdag_id="sub dag id"),n}}));else if("BashOperator"==t.businessObject.$attrs["taskType"])e.entries.push(L.a.validationAwareTextField(n,{id:"command",description:"task command",label:"command",modelProperty:"command",getProperty:function(e){return e.businessObject.command?e.businessObject.command:e.businessObject.$attrs.command},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.command||(n.command="task command"),n}}));else if("SFTPOperator"==t.businessObject.$attrs["taskType"]){s=[{name:"",value:""}];try{conns.forEach((function(e,t,n){s.push({name:e,value:e})}))}catch(d){console.log(d)}c=L.a.selectBox(n,{id:"ssh_conn_id",description:"task ssh conn id",label:"ssh conn id",modelProperty:"ssh_conn_id",selectOptions:s,get:function(e,t){return e.businessObject.$attrs.ssh_conn_id||(e.businessObject.$attrs["ssh_conn_id"]=""),{ssh_conn_id:e.businessObject.$attrs.ssh_conn_id}},set:function(e,t,n){return R.updateProperties(e,t)}});c.html.appendChild(A('<a href="/connection/list/">to config</a>')),e.entries.push(c),e.entries.push(L.a.textField(n,{id:"local",description:"task local",label:"local",modelProperty:"local"})),e.entries.push(L.a.textField(n,{id:"remote",description:"task remote",label:"remote",modelProperty:"remote"}));s=[{name:"",value:""}];s.push({name:"put",value:"put"}),s.push({name:"get",value:"get"});c=L.a.selectBox(n,{id:"operation",description:"task operation",label:"operation",modelProperty:"operation",selectOptions:s,get:function(e,t){return e.businessObject.$attrs.operation||(e.businessObject.$attrs["operation"]=""),{operation:e.businessObject.$attrs.operation}},set:function(e,t,n){return R.updateProperties(e,t)}});e.entries.push(c)}else if("SSHOperator"==t.businessObject.$attrs["taskType"]){s=[{name:"",value:""}];try{conns.forEach((function(e,t,n){s.push({name:e,value:e})}))}catch(d){console.log(d)}c=L.a.selectBox(n,{id:"ssh_conn_id",description:"task ssh conn id",label:"ssh conn id",modelProperty:"ssh_conn_id",selectOptions:s,get:function(e,t){return e.businessObject.$attrs.ssh_conn_id||(e.businessObject.$attrs["ssh_conn_id"]=""),{ssh_conn_id:e.businessObject.$attrs.ssh_conn_id}},set:function(e,t,n){return R.updateProperties(e,t)}});c.html.appendChild(A('<a href="/connection/list/">to config</a>')),e.entries.push(c),e.entries.push(L.a.validationAwareTextField(n,{id:"command",description:"task command",label:"command",modelProperty:"command",getProperty:function(e){return e.businessObject.command?e.businessObject.command:e.businessObject.$attrs.command},setProperty:function(e,t){return e=e.labelTarget||e,R.updateProperties(e,t)},validate:function(e,t){var n={};return t.command||(n.command="task command"),n}}))}else if("FlowOperator"==t.businessObject.$attrs["taskType"]){s=[{name:"",value:""}];try{flows.forEach((function(e,t,n){s.push({name:e,value:e})}))}catch(d){console.log(d)}c=L.a.selectBox(n,{id:"flow",label:"flow",modelProperty:"flow",selectOptions:s,get:function(e,t){return e.businessObject.$attrs.flow||(e.businessObject.$attrs["flow"]=""),{flow:e.businessObject.$attrs.flow}},set:function(e,t,n){return R.updateProperties(e,t)},hidden:function(e,t){return!1}});c.html.appendChild(A('<a href="?dag_id='+t.businessObject.$attrs.flow+'">edit '+t.businessObject.$attrs.flow+"</a>")),e.entries.push(c)}else"PythonOperator"==t.businessObject.$attrs["taskType"]?(e.entries.push(L.a.textField(n,{id:"main_module",description:"task main module, e.g. xxx.yyy",label:"main module",modelProperty:"main_module"})),e.entries.push(L.a.textField(n,{id:"main_function",description:"task main function",label:"main function",modelProperty:"main_function"})),e.entries.push(L.a.textField(n,{id:"main_args",description:"task main args",label:"main args",modelProperty:"main_args"}))):"ShortCircuitOperator"==t.businessObject.$attrs["taskType"]&&(e.entries.push(L.a.checkbox(n,{id:"skip_dag_when_not_latest_worker",description:"skip dag when not latest worker",label:"skip dag when not latest worker",modelProperty:"skip_dag_when_not_latest_worker"})),e.entries.push(L.a.checkbox(n,{id:"skip_dag_when_previous_running_worker",description:"skip dag when previous running worker",label:"skip dag when previous running worker",modelProperty:"skip_dag_when_previous_running_worker"})))}else if("slicing-magic"==e.id){e.entries.push(L.a.checkbox(n,{id:"enable_slicing",description:"task enable slicing",label:"enable slicing",modelProperty:"enable_slicing"}));s=[{name:"",value:""}];s.push({name:"auto",value:"auto"}),s.push({name:"manual",value:"manual"}),e.entries.push(L.a.selectBox(n,{id:"slicing_type",description:"task slicing type",label:"slicing type",modelProperty:"slicing_type",selectOptions:s,get:function(e,t){return e.businessObject.$attrs.slicing_type||(e.businessObject.$attrs["slicing_type"]="auto"),{slicing_type:e.businessObject.$attrs.slicing_type}},set:function(e,t,n){return R.updateProperties(e,t)}})),e.entries.push(L.a.textField(n,{id:"slicing_auto",description:"task slicing auto",label:"slicing auto",modelProperty:"slicing_auto"})),e.entries.push(L.a.textField(n,{id:"slicing_manual",description:"task slicing manual",label:"slicing manual",modelProperty:"slicing_manual"}))}else"params-magic"==e.id&&e.entries.push(L.a.textField(n,{id:"params",description:"task params",label:"params",modelProperty:"params"}))}),H=n("3fb5"),V=(n("b7d6"),n("7fd4")),G=(n("c6f3"),500);function X(e,t,n,r,a,i){var o={id:"general-magic",label:"General",entries:[]};I(o,e,t,n,r,a,i);var s=[];s.push(o);var c={id:"connector-magic",label:"Connector",entries:[]};I(c,e,t,n,r,a,i),s.push(c);var l={id:"config-magic",label:"Config",entries:[]};I(l,e,t,n,r,a,i),s.push(l);var u={id:"action-magic",label:"Action",entries:[]};if(I(u,e,t,n,r,a,i),s.push(u),!Object(N["is"])(e,"bpmn:Process")&&"PythonOperator"==e.businessObject.$attrs["taskType"]){var d={id:"slicing-magic",label:"Slicing",entries:[]};I(d,e,t,n,r,a,i),s.push(d)}return s}function W(e,t,n,r,a,i,o,s,c,l,u){V.call(this,t,n,r,a,i,o,s,c,l,u),e.registerProvider(G,this),this.getTabs=function(e){return function(r){if(Object(v["some"])(["DummyOperator","ShortCircuitOperator","BranchPythonOperator","PythonOperator","FlowOperator","SSHOperator","BashOperator","SFTPOperator","SubDagOperator","ExternalTaskSensor","ExternalTaskMarker","LoopWaitDynamicOperator"],e.businessObject.$attrs["taskType"])){r=[];var i={id:"task",label:"Task",groups:X(e,u,n,t,a,s)};r.push(i)}if("bpmn:Process"==e.type){"Flow"===e.businessObject.$attrs["type"]||(r=[]);var o={id:"dag",label:"Dag",groups:X(e,u,n,t,a,s)};r.push(o)}return r}}}W.$inject=["propertiesPanel","bpmnFactory","canvas","commandStack","elementRegistry","elementTemplates","eventBus","modeling","replace","selection","translate"],H(W,V);var U=W,J={__init__:["PlusPropertiesProvider"],PlusPropertiesProvider:["type",U]},Z=n("74a6"),Y=(n("fe13"),n("d1f8")),K=n.n(Y),Q=n("a751"),ee=n.n(Q),te={"Activate the create/remove space tool":"启动创建/删除空间工具","Activate the global connect tool":"启动全局连接工具","Activate the hand tool":"启动手动工具","Activate the lasso tool":"启动 Lasso 工具","Ad-hoc":"Ad-hoc子流程","Add Lane above":"添加到通道之上","Add Lane below":"添加到通道之下","Append compensation activity":"追加补偿活动","Append {type}":"追加 {type}","Business Rule Task":"规则任务","Call Activity":"引用流程","Cancel Boundary Event":"取消边界事件","Cancel End Event":"结束取消事件","Change type":"更改类型","Collapsed Pool":"折叠池","Compensation Boundary Event":"补偿边界事件","Compensation End Event":"结束补偿事件","Compensation Intermediate Throw Event":"中间补偿抛出事件","Compensation Start Event":"补偿启动事件","Complex Gateway":"复杂网关","Conditional Boundary Event (non-interrupting)":"条件边界事件 (非中断)","Conditional Boundary Event":"条件边界事件","Conditional Intermediate Catch Event":"中间条件捕获事件","Conditional Start Event (non-interrupting)":"条件启动事件 (非中断)","Conditional Start Event":"条件启动事件","Connect using Association":"文本关联","Connect using DataInputAssociation":"数据关联","Connect using Sequence/MessageFlow or Association":"消息关联","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出/边界事件","Create Pool/Participant":"创建池/参与者","Create expanded SubProcess":"创建可折叠子流程","Create {type}":"创建 {type}","Create Task":"创建 任务","Create Group":"创建 组","Create DataObjectReference":"创建 数据对象引用","Create DataStoreReference":"创建 数据存储引用","Create Intermediate/Boundary Event":"创建 中间/边界 事件","Create Gateway":"创建 网关","Create StartEvent":"创建 启动事件","Create EndEvent":"创建 结束事件","Divide into three Lanes":"分成三条通道","Divide into two Lanes":"分成两条通道","End Event":"结束事件","Error Boundary Event":"错误边界事件","Error End Event":"结束错误事件","Error Start Event":"错误启动事件","Escalation Boundary Event (non-interrupting)":"升级边界事件 (非中断)","Escalation Boundary Event":"升级边界事件","Escalation End Event":"结束升级事件","Escalation Intermediate Throw Event":"中间升级抛出事件","Escalation Start Event (non-interrupting)":"升级启动事件 (非中断)","Escalation Start Event":"升级启动事件","Event Sub Process":"事件子流程","Event based Gateway":"事件网关","Exclusive Gateway":"独占网关","Expanded Pool":"展开池","Inclusive Gateway":"包容网关","Intermediate Throw Event":"中间抛出事件","Link Intermediate Catch Event":"中间链接捕获事件","Link Intermediate Throw Event":"中间链接抛出事件",Loop:"循环","Manual Task":"手动任务","Message Boundary Event (non-interrupting)":"消息边界事件 (非中断)","Message Boundary Event":"消息边界事件","Message End Event":"结束消息事件","Message Intermediate Catch Event":"中间消息捕获事件","Message Intermediate Throw Event":"中间消息抛出事件","Message Start Event (non-interrupting)":"消息启动事件 (非中断)","Message Start Event":"消息启动事件","Parallel Gateway":"并行网关","Parallel Multi Instance":"并行多实例","Receive Task":"接受任务",Remove:"移除","Script Task":"脚本任务","Send Task":"发送任务","Sequential Multi Instance":"串行多实例","Service Task":"服务任务","Signal Boundary Event (non-interrupting)":"信号边界事件 (非中断)","Signal Boundary Event":"信号边界事件","Signal End Event":"结束信号事件","Signal Intermediate Catch Event":"中间信号捕获事件","Signal Intermediate Throw Event":"中间信号抛出事件","Signal Start Event (non-interrupting)":"信号启动事件 (非中断)","Signal Start Event":"信号启动事件","Start Event":"开始事件","Sub Process (collapsed)":"可折叠子流程","Sub Process (expanded)":"可展开子流程","Sub Process":"子流程",Task:"任务","Terminate End Event":"终止边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件 (非中断)","Timer Boundary Event":"定时边界事件","Timer Intermediate Catch Event":"中间定时捕获事件","Timer Start Event (non-interrupting)":"定时启动事件 (非中断)","Timer Start Event":"定时启动事件",Transaction:"事务","User Task":"用户任务","already rendered {element}":"{element} 已呈现","diagram not part of bpmn:Definitions":"图表不是 bpmn:Definitions 的一部分","element required":"需要元素","element {element} referenced by {referenced}#{property} not yet drawn":"元素 {element} 的引用 {referenced}#{property} 尚未绘制","failed to import {element}":"{element} 导入失败","flow elements must be children of pools/participants":"元素必须是池/参与者的子级","more than {count} child lanes":"超过 {count} 条通道","no diagram to display":"没有要显示的图表","no parent for {element} in {parent}":"在 {element} 中没有父元素 {parent}","no process or collaboration to display":"没有可显示的流程或协作","no shape type specified":"未指定形状类型","out of bounds release":"越界释放","Toggle linting":"校验开关",DummyOperator:"空任务",ShortCircuitOperator:"布尔任务",BranchPythonOperator:"分支任务",PythonOperator:"PYTHON任务",FlowOperator:"流程任务",BashOperator:"BASH任务",SSHOperator:"SSH任务",SFTPOperator:"SFTP任务"},ne=n("8f94"),re=n.n(ne),ae=(n("a7be"),n("d5e0"),n("a2c1"),n("05dd"),n("0b6c"),n("b933"),n("2aed"),n("d72f"),n("d2c7"),n("ba9e"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-container"},[n("i",{staticClass:"app-icon app-icon-new",attrs:{title:"创建 diagram"},on:{click:e.newBPMN}}),n("i",{staticClass:"app-icon app-icon-open",attrs:{title:"打开 diagram"},on:{click:function(t){return e.$refs.refFile.click()}}}),e._v("| "),n("i",{staticClass:"app-icon app-icon-save",attrs:{title:"保存 diagram"},on:{click:e.saveXml}}),n("i",{staticClass:"app-icon app-icon-save-as",attrs:{title:"导出 diagram"},on:{click:e.saveBPMN}}),e._v("| "),n("i",{staticClass:"app-icon app-icon-undo",attrs:{title:"复原"},on:{click:e.redo}}),n("i",{staticClass:"app-icon app-icon-redo",attrs:{title:"撤销"},on:{click:e.undo}}),e._v("| "),n("i",{staticClass:"app-icon app-icon-picture",attrs:{title:"导出为图片"},on:{click:e.saveSVG}}),e._v("| "),n("i",{staticClass:"app-icon app-icon-in",attrs:{title:"in"},on:{click:e.inSVG}},[e._v("-")]),n("i",{staticClass:"app-icon app-icon-location",attrs:{title:"location"},on:{click:e.locationSVG}},[e._v("o")]),n("i",{staticClass:"app-icon app-icon-out",attrs:{title:"out"},on:{click:e.outSVG}},[e._v("+")]),e._v("| "),n("i",{staticClass:"app-icon app-icon-keyboard",attrs:{title:"keyboard"},on:{click:e.keyboard}},[e._v("keyboard")]),e._v("| "),n("i",{staticClass:"app-icon app-icon-set-color-tool",class:{open:e.isOpenColor},attrs:{title:"设置元素颜色"},on:{click:e.openColor}},[n("i",{staticClass:"el-icon-caret-bottom"}),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpenColor,expression:"isOpenColor"}],staticClass:"colorSelect"},e._l(e.COLORS,(function(t){return n("li",{key:t.title},[n("div",{staticClass:"colorBlock",style:{borderColor:t.stroke,backgroundColor:t.fill},attrs:{title:t.title},on:{click:function(n){return e.setColor(t.fill,t.stroke)}}})])})),0)]),e._v("| "),n("i",{staticClass:"app-icon app-icon-align-left-tool",attrs:{title:"元素左对齐"},on:{click:function(t){return e.alignElements("left")}}}),n("i",{staticClass:"app-icon app-icon-align-center-tool",attrs:{title:"元素垂直居中对齐"},on:{click:function(t){return e.alignElements("center")}}}),n("i",{staticClass:"app-icon app-icon-align-right-tool",attrs:{title:"元素右对齐"},on:{click:function(t){return e.alignElements("right")}}}),n("i",{staticClass:"app-icon app-icon-align-top-tool",attrs:{title:"元素顶部对齐"},on:{click:function(t){return e.alignElements("top")}}}),n("i",{staticClass:"app-icon app-icon-align-middle-tool",attrs:{title:"元素水平居中对齐"},on:{click:function(t){return e.alignElements("middle")}}}),n("i",{staticClass:"app-icon app-icon-distribute-vertical-tool",attrs:{title:"元素底部对齐"},on:{click:function(t){return e.alignElements("bottom")}}}),e._v("| "),n("i",{staticClass:"app-icon app-icon-distribute-horizontal-tool",attrs:{title:"水平分布元素"},on:{click:function(t){return e.distributeElements("horizontal")}}}),n("i",{staticClass:"app-icon app-icon-distribute-vertical-tool",attrs:{title:"垂直分布元素"},on:{click:function(t){return e.distributeElements("vertical")}}}),e._v("| "),n("i",{staticClass:"app-icon app-icon-layout-auto-tool",attrs:{title:"AUTO布局"},on:{click:function(t){return e.layoutElements("auto")}}},[e._v("auto")]),n("i",{staticClass:"app-icon app-icon-layout-pcb-tool",attrs:{title:"PCB布局"},on:{click:function(t){return e.layoutElements("pcb")}}},[e._v("pcb")]),e._v("| "),n("i",{staticClass:"app-icon app-icon-add-task-tool",attrs:{title:"Add Task"},on:{click:function(t){return e.addTask()}}},[e._v("add")]),n("input",{ref:"refFile",staticStyle:{display:"none"},attrs:{type:"file",id:"files",title:"open file"},on:{change:e.loadBPMN}})])}),ie=[],oe=(n("a9e3"),n("d81d"),[{title:"White",fill:"white",stroke:"black"},{title:"Blue",fill:"rgb(187, 222, 251)",stroke:"rgb(30, 136, 229)"},{title:"Orange",fill:"rgb(255, 224, 178)",stroke:"rgb(251, 140, 0)"},{title:"Green",fill:"rgb(200, 230, 201)",stroke:"rgb(67, 160, 71)"},{title:"Red",fill:"rgb(255, 205, 210)",stroke:"rgb(229, 57, 53)"},{title:"Purple",fill:"rgb(225, 190, 231)",stroke:"rgb(142, 36, 170)"}]),se={props:{bpmnModeler:Object,xml:String,elementSelector:Array,scale:Number},data:function(){return{color:"",isOpenColor:!1,activeName:"first",COLORS:oe}},methods:{redo:function(){this.bpmnModeler.get("commandStack").redo()},undo:function(){this.bpmnModeler.get("commandStack").undo()},openColor:function(){this.isOpenColor=!this.isOpenColor},setColor:function(e,t){if(!this.elementSelector.length)return this.$message.warning("请选择元素");var n=this.bpmnModeler.get("modeling");this.elementSelector.map((function(r){n.setColor(r,{fill:e,stroke:t})}))},alignElements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center";if(!this.elementSelector.length)return this.$message.warning("请选择元素");var t=this.bpmnModeler.get("alignElements");t.trigger(this.elementSelector,e)},distributeElements:function(e){if(!this.elementSelector.length)return this.$message.warning("请选择元素");var t=this.bpmnModeler.get("distributeElements");t.trigger(this.elementSelector,e)},layoutElements:function(e){alert("Not yet implemented!")},addTask:function(){this.bpmnModeler.get("eventBus");var e=this.bpmnModeler.get("modeling"),t=this.bpmnModeler.get("canvas"),n=(this.bpmnModeler.get("elementRegistry"),this.bpmnModeler.get("elementFactory")),r=this.bpmnModeler.get("selection"),a=n.createShape({type:"bpmn:Task"});a.businessObject.name="xxxxx",a.businessObject.$attrs["taskType"]="DummyOperator",e.createShape(a,{x:0,y:0},t.getRootElement()),r.select(a)},handlerZoom:function(e){var t=e?this.scale+e:1;this.bpmnModeler.get("canvas").zoom(t),this.$emit("scale",t)},inSVG:function(){this.bpmnModeler.get("zoomScroll").stepZoom(-1)},locationSVG:function(){alert("Not yet implemented!")},outSVG:function(){this.bpmnModeler.get("zoomScroll").stepZoom(1)},keyboard:function(){alert("Not yet implemented!")},newBPMN:function(){alert("Not yet implemented!")},saveXml:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.bpmnModeler.saveXML({format:!0});case 2:n=t.sent,console.log(n.xml,e.$route),r="";try{r=document.head.querySelector("[name~='csrf-token'][content]").content,console.log(r)}catch(a){console.log(a)}e.axios.post("/ext/bpmn_save",e.$qs.stringify({data:n.xml}),{emulateJSON:!1,headers:{"X-CSRFToken":r,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(t){200==t.data.code?e.$message.success("保存成功"):e.$message.error(t.data.detail)})).catch((function(t){e.$message.error(t)}));case 7:case"end":return t.stop()}}),t)})))()},saveBPMN:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.bpmnModeler.saveXML({format:!0});case 3:n=t.sent,r=n.xml,a=new Blob([r],{type:"application/bpmn20-xml;charset=UTF-8,"}),i=document.createElement("a"),i.download="bpmn-".concat(+new Date,".bpmn"),i.innerHTML="Get BPMN SVG",i.href=window.URL.createObjectURL(a),i.onclick=function(e){document.body.removeChild(e.target)},i.style.visibility="hidden",document.body.appendChild(i),i.click(),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()},loadBPMN:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,r=e.$refs.refFile.files[0],a=new FileReader,a.readAsText(r),a.onload=function(){n.$emit("updateXml",this.result)};case 5:case"end":return t.stop()}}),t)})))()},saveSVG:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.bpmnModeler.saveSVG();case 3:n=t.sent,r=n.svg,a=new Blob([r],{type:"image/svg+xml"}),i=document.createElement("a"),i.download="bpmn-".concat(+new Date,".SVG"),i.innerHTML="Get BPMN SVG",i.href=window.URL.createObjectURL(a),i.onclick=function(e){document.body.removeChild(e.target)},i.style.visibility="hidden",document.body.appendChild(i),i.click(),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()}}},ce=se,le=(n("9bff"),n("2877")),ue=Object(le["a"])(ce,ae,ie,!1,null,"43b1d526",null),de=ue.exports,pe=n("2f62"),me='<?xml version="1.0" encoding="UTF-8"?>\n<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="sid-38422fae-e03e-43a3-bef4-bd33b32041b2" targetNamespace="http://bpmn.io/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="5.1.2">\n<process id="Process_1" isExecutable="false">\n    \x3c!--<startEvent id="StartEvent_1y45yut" name="开始">\n    <outgoing>SequenceFlow_0h21x7r</outgoing>\n    </startEvent>\n    <task id="Task_1hcentk">\n    <incoming>SequenceFlow_0h21x7r</incoming>\n    </task>\n    <sequenceFlow id="SequenceFlow_0h21x7r" sourceRef="StartEvent_1y45yut" targetRef="Task_1hcentk" />--\x3e\n</process>\n<bpmndi:BPMNDiagram id="BpmnDiagram_1">\n    <bpmndi:BPMNPlane id="BpmnPlane_1" bpmnElement="Process_1">\n    \x3c!--<bpmndi:BPMNShape id="StartEvent_1y45yut_di" bpmnElement="StartEvent_1y45yut">\n        <omgdc:Bounds x="152" y="102" width="36" height="36" />\n        <bpmndi:BPMNLabel>\n        <omgdc:Bounds x="160" y="145" width="22" height="14" />\n        </bpmndi:BPMNLabel>\n    </bpmndi:BPMNShape>\n    <bpmndi:BPMNShape id="Task_1hcentk_di" bpmnElement="Task_1hcentk">\n        <omgdc:Bounds x="240" y="80" width="100" height="80" />\n    </bpmndi:BPMNShape>\n    <bpmndi:BPMNEdge id="SequenceFlow_0h21x7r_di" bpmnElement="SequenceFlow_0h21x7r">\n        <omgdi:waypoint x="188" y="120" />\n        <omgdi:waypoint x="240" y="120" />\n    </bpmndi:BPMNEdge>--\x3e\n    </bpmndi:BPMNPlane>\n</bpmndi:BPMNDiagram>\n</definitions>',he=T;function fe(e,t){return t=t||{},e=te[e]||e,e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}var be={translate:["value",fe]},ge=n("d75e"),ve=(new ge,{components:{ToolBar:de,codemirror:ne["codemirror"]},props:{},data:function(){var e=new URLSearchParams(window.location.search).get("dag_id"),t=[],n="";return t[0]&&(n=t[0].name),e&&(n=e),{bpmnModeler:null,xml:"",ds:[],elementSelector:[],openPanel:!0,scale:1,activeName:n,radioValue:"Diagram",cmOptions:{autoCloseTags:!0,dragDrop:!0,allowDropFileTypes:["text/plain"],lineWrapping:!0,lineNumbers:!0,mode:{name:"application/xml",htmlMode:!1},tabSize:2}}},computed:{isShowXml:function(){return"Xml"===this.radioValue},isShowForm:function(){return"Form"===this.radioValue}},watch:{activeName:{handler:function(){var e=this;this.getXmlById().then((function(){e.createNewDiagram()}))}},radioValue:{immediate:!0,handler:function(e,t){if(this.setRadioValue(e),"Xml"===this.radioValue&&this.saveXML(),"Form"===this.radioValue){try{this.$refs.canvas.parentNode.parentNode.style.display=""}catch(n){console.log(n)}try{this.$refs.propertiesPanel.parentNode.style.width="99%"}catch(n){console.log(n)}}else try{this.$refs.propertiesPanel.parentNode.style.width="auto"}catch(n){console.log(n)}"Xml"!==e&&"Form"!==e&&t&&"Xml"===t&&this.createNewDiagram()}}},mounted:function(){this.init()},methods:Object(h["a"])(Object(h["a"])({},Object(pe["b"])(["setRadioValue"])),{},{init:function(){var e=this;this.bpmnModeler=new he({container:this.$refs.canvas,keyboard:{bindTo:document},bpmnRenderer:{defaultStrokeColor:"false"},linting:{bpmnlint:ee.a,active:!0},propertiesPanel:{parent:this.$refs.propertiesPanel},additionalModules:[be,K.a,C["a"],B.a,$.a,J],moddleExtensions:{camunda:Z}}),this.getDS(),this.getXmlById().then((function(){e.createNewDiagram()})),this.initEvent()},addModelerListener:function(){},addEventBusListener:function(){var e=this.bpmnModeler.get("eventBus"),t=(this.bpmnModeler.get("modeling"),this.bpmnModeler.get("canvas")),n=this.bpmnModeler.get("elementRegistry"),r=(this.bpmnModeler.get("elementFactory"),this.bpmnModeler.get("selection"),["element.dblclick","element.click","element.changed"]);r.forEach((function(r){e.on(r,(function(e){if("element.changed"===r);else if("element.dblclick"===r);else if("element.click"===r){var a=e.element?n.get(e.element.id):e.shape;if(!e||"bpmn:Process"===e.element.type)return void n.forEach((function(e){t.removeMarker(e.id,"selected"),t.removeMarker(e.id,"disabled")}));n.forEach((function(e){"bpmn:Process"!==e.type&&t.addMarker(e.id,"disabled")})),"bpmn:SequenceFlow"===a.type?(t.addMarker(a.source.id,"selected"),t.addMarker(a.target.id,"selected")):(a.incoming.forEach((function(e){t.addMarker(e.id,"selected"),t.addMarker(e.source.id,"selected")})),a.outgoing.forEach((function(e){t.addMarker(e.id,"selected"),t.addMarker(e.target.id,"selected")})))}}))}))},getDS:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.axios("/ext/bpmn_list",{params:{}}).then((function(t){e.ds=t.data.data,e.activeName||(e.activeName=e.ds[0].name)})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},getXmlById:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.activeName),n=e.activeName,console.log(n),!n){t.next=14;break}return t.prev=4,t.next=7,e.axios("/ext/bpmn_xml",{params:{dag_id:n}});case 7:r=t.sent,e.xml=r.data,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4);case 14:console.log("debug:",n);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))()},createNewDiagram:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.bpmnModeler.importXML(e.xml||me,(function(t){t?console.log(t):e.addEventBusListener()}));case 3:e.saveXML(),t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},initEvent:function(){var e=this,t=this.bpmnModeler.get("eventBus");t.on("selection.changed",(function(t){e.elementSelector=t.newSelection}))},updateXml:function(e){this.xml=e,this.createNewDiagram()},updateScale:function(e){this.scale=e},getCurDiagram:function(){return this},handleClick:function(e,t){console.log(e,t,me),this.updateXml(me)},saveXML:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.bpmnModeler.saveXML({format:!0});case 2:n=t.sent,e.xml=n.xml.toString();case 4:case"end":return t.stop()}}),t)})))()},mirrorCodeChange:function(e,t){this.xml=e.getValue()}})}),ye=ve,_e=(n("feca"),Object(le["a"])(ye,d,p,!1,null,"f6101c82",null)),ke=_e.exports,xe={name:"App",components:{Diagram:ke},metaInfo:{title:"graph",meta:[{name:"csrf-token",content:"{{ csrf_token() }}"}]}},we=xe,Oe=(n("7c55"),Object(le["a"])(we,l,u,!1,null,null,null)),Pe=Oe.exports,Ee=n("5c96"),Se=n.n(Ee);n("0fae");c["default"].use(pe["a"]);var je=new pe["a"].Store({state:{radioValue:""},getters:{radioValue:function(e){var t=e.radioValue;return t}},mutations:{setRadioValue:function(e,t){e.radioValue=t}},actions:{},modules:{}});c["default"].prototype.$qs=o.a,c["default"].prototype.axios=a.a,c["default"].use(s["a"]),c["default"].use(re.a),c["default"].use(Se.a,{size:"mini"}),c["default"].config.productionTip=!1,new c["default"]({store:je,render:function(e){return e(Pe)}}).$mount("#app")},"6e86":function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},"9bff":function(e,t,n){"use strict";n("b2d3")},a751:function(e,t,n){"use strict";n("159b"),n("7db0"),n("dca8"),n("498a"),n("b0c0"),n("99af"),n("d3b7"),n("4de4"),n("b64b"),n("a434"),n("a9e3"),n("d81d"),n("caad"),Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){if(a(e)){var n=e.outgoing||[];n.forEach((function(n){var r=!i(n)&&!o(e,n);r&&t.report(n.id,"Sequence flow is missing condition")}))}}return{check:e}};function a(e){var t=e["default"],n=e.outgoing||[];return t||n.find(i)}function i(e){return!!e.conditionExpression}function o(e,t){return e["default"]===t}function s(e,t){return-1===t.indexOf(":")&&(t="bpmn:"+t),"function"===typeof e.$instanceOf?e.$instanceOf(t):e.$type===t}function c(e,t){return t.some((function(t){return s(e,t)}))}var l=Object.freeze({__proto__:null,is:s,isAny:c}),u=l.is,d=function(){function e(e,t){if(u(e,"bpmn:SubProcess")&&e.triggeredByEvent){var n=e.flowElements||[];n.forEach((function(e){if(!u(e,"bpmn:StartEvent"))return!1;var n=e.eventDefinitions||[];0===n.length&&t.report(e.id,"Start event is missing event definition")}))}}return{check:e}},p=l.isAny,m=function(){function e(e,t){if(p(e,["bpmn:Task","bpmn:Event"])){var n=e.incoming||[];n.length>1&&t.report(e.id,"Incoming flows do not join")}}return{check:e}},h=l.is,f=l.isAny,b=function(){function e(e,t){if(!f(e,["bpmn:ParallelGateway","bpmn:EventBasedGateway"])&&(!h(e,"bpmn:Gateway")||g(e))&&!h(e,"bpmn:BoundaryEvent")&&!h(e,"bpmn:SubProcess")&&(!h(e,"bpmn:SequenceFlow")||v(e))&&f(e,["bpmn:FlowNode","bpmn:SequenceFlow","bpmn:Participant","bpmn:Lane"])){var n=(e.name||"").trim();0===n.length&&t.report(e.id,"Element is missing label/name")}}return{check:e}};function g(e){var t=e.outgoing||[];return t.length>1}function v(e){return e.conditionExpression}function y(e){return Array.prototype.concat.apply([],e)}var _=Object.prototype.toString,k=Object.prototype.hasOwnProperty;function x(e){return void 0===e}function w(e){return void 0!==e}function O(e){return null==e}function P(e){return"[object Array]"===_.call(e)}function E(e){return"[object Object]"===_.call(e)}function S(e){return"[object Number]"===_.call(e)}function j(e){var t=_.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function T(e){return"[object String]"===_.call(e)}function C(e){if(!P(e))throw new Error("must supply array")}function M(e,t){return k.call(e,t)}function B(e,t){var n;return t=Z(t),D(e,(function(e,r){if(t(e,r))return n=e,!1})),n}function F(e,t){t=Z(t);var n=P(e)?-1:void 0;return D(e,(function(e,r){if(t(e,r))return n=r,!1})),n}function $(e,t){var n=[];return D(e,(function(e,r){t(e,r)&&n.push(e)})),n}function D(e,t){var n,r;if(!x(e)){var a=P(e)?K:Y;for(var i in e)if(M(e,i)&&(n=e[i],r=t(n,a(i)),!1===r))return n}}function L(e,t){return x(e)?[]:(C(e),t=Z(t),e.filter((function(e,n){return!t(e,n)})))}function N(e,t,n){return D(e,(function(e,r){n=t(n,e,r)})),n}function A(e,t){return!!N(e,(function(e,n,r){return e&&t(n,r)}),!0)}function R(e,t){return!!B(e,t)}function z(e,t){var n=[];return D(e,(function(e,r){n.push(t(e,r))})),n}function q(e){return e&&Object.keys(e)||[]}function I(e){return q(e).length}function H(e){return z(e,(function(e){return e}))}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=J(t),D(e,(function(e){var r=t(e)||"_",a=n[r];a||(a=n[r]=[]),a.push(e)})),n}function G(e){e=J(e);for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];D(r,(function(n){return V(n,e,t)}));var i=z(t,(function(e,t){return e[0]}));return i}var X=G;function W(e,t){t=J(t);var n=[];return D(e,(function(e,r){for(var a=t(e,r),i={d:a,v:e},o=0;o<n.length;o++){var s=n[o].d;if(a<s)return void n.splice(o,0,i)}n.push(i)})),z(n,(function(e){return e.v}))}function U(e){return function(t){return A(e,(function(e,n){return t[n]===e}))}}function J(e){return j(e)?e:function(t){return t[e]}}function Z(e){return j(e)?e:function(t){return t===e}}function Y(e){return e}function K(e){return Number(e)}function Q(e,t){var n,r,a,i;function o(){var o=Date.now(),c=i+t-o;if(c>0)return s(c);e.apply(a,r),n=i=r=a=void 0}function s(e){n=setTimeout(o,e)}return function(){i=Date.now();for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];r=o,a=this,n||s(t)}}function ee(e,t){var n=!1;return function(){n||(e.apply(void 0,arguments),n=!0,setTimeout((function(){n=!1}),t))}}function te(e,t){return e.bind(t)}function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ne.apply(void 0,[e].concat(n))}function ae(e,t,n){var r=e;return D(t,(function(e,a){if("__proto__"===e)throw new Error("illegal key: __proto__");var i=t[a+1],o=r[e];w(i)&&O(o)&&(o=r[e]=isNaN(+i)?{}:[]),x(i)?x(n)?delete r[e]:r[e]=n:r=o})),e}function ie(e,t,n){var r=e;return D(t,(function(e){if(O(r))return r=void 0,!1;r=r[e]})),x(r)?n:r}function oe(e,t){var n={},r=Object(e);return D(t,(function(t){t in r&&(n[t]=e[t])})),n}function se(e,t){var n={},r=Object(e);return D(r,(function(e,r){-1===t.indexOf(r)&&(n[r]=e)})),n}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?(D(n,(function(t){t&&E(t)&&D(t,(function(t,n){if("__proto__"!==n){var r=e[n];E(t)?(E(r)||(r={}),e[n]=ce(r,t)):e[n]=t}}))})),e):e}var le=Object.freeze({__proto__:null,assign:re,bind:te,debounce:Q,ensureArray:C,every:A,filter:$,find:B,findIndex:F,flatten:y,forEach:D,get:ie,groupBy:V,has:M,isArray:P,isDefined:w,isFunction:j,isNil:O,isNumber:S,isObject:E,isString:T,isUndefined:x,keys:q,map:z,matchPattern:U,merge:ce,omit:se,pick:oe,reduce:N,set:ae,size:I,some:R,sortBy:W,throttle:ee,unionBy:X,uniqueBy:G,values:H,without:L}),ue=l.is,de=le.flatten,pe=function(){function e(e,t){if(!ue(e,"bpmn:Definitions"))return!1;var n=me(e.rootElements),r=n.filter(fe),a=he(e);r.forEach((function(e){-1===a.indexOf(e.id)&&t.report(e.id,"Element is missing bpmndi")}))}return{check:e}};function me(e){return de(e.map((function(e){var t=de([].concat(e.flowElements||[],e.flowElements&&me(e.flowElements.filter(be))||[],e.participants||[],e.artifacts||[],e.laneSets&&e.laneSets[0].lanes||[],e.laneSets&&me(e.laneSets[0].lanes.filter(ge))||[],e.childLaneSet&&e.childLaneSet.lanes||[],e.childLaneSet&&me(e.childLaneSet.lanes.filter(ge))||[]));return t.length>0?t.map((function(e){return{id:e.id,$type:e.$type}})):[]})))}function he(e){return de(e.diagrams.map((function(e){var t=e.plane.planeElement||[];return t.map((function(e){return e.bpmnElement.id}))})))}function fe(e){var t=["bpmn:DataObject"];return!t.includes(e.$type)}function be(e){return!!e.flowElements}function ge(e){return!!e.childLaneSet}var ve=l.is;function ye(e){return function(){function t(t,n){ve(t,e)&&n.report(t.id,"Element has disallowed type <"+e+">")}return{check:t}}}var _e=ye,ke={disallowNodeType:_e},xe=ke.disallowNodeType,we=xe("bpmn:ComplexGateway"),Oe=l.isAny,Pe=l.is,Ee=function(){function e(e,t){if(Oe(e,["bpmn:Task","bpmn:Gateway","bpmn:SubProcess","bpmn:Event"])&&!e.triggeredByEvent&&!Te(e)){var n=e.incoming||[],r=e.outgoing||[];n.length||r.length||t.report(e.id,"Element is not connected")}}return{check:e}};function Se(e){var t=e.eventDefinitions;return!!Pe(e,"bpmn:BoundaryEvent")&&(!(!t||1!==t.length)&&Pe(t[0],"bpmn:CompensateEventDefinition"))}function je(e){return e.isForCompensation}function Te(e){var t=Se(e),n=je(e);return t||n}var Ce=l.is,Me=function(){var e={},t={},n={};function r(r,a){if(Ce(r,"bpmn:SequenceFlow")){var i=Be(r);if(i in e){a.report(r.id,"SequenceFlow is a duplicate");var o=r.sourceRef.id,s=r.targetRef.id;t[o]||(a.report(o,"Duplicate outgoing sequence flows"),t[o]=!0),n[s]||(a.report(s,"Duplicate incoming sequence flows"),n[s]=!0)}else e[i]=r}}return{check:r}};function Be(e){var t=e.conditionExpression,n=t?t.body:"",r=e.sourceRef?e.sourceRef.id:e.id,a=e.targetRef?e.targetRef.id:e.id;return r+"#"+a+"#"+n}var Fe=l.is,$e=function(){function e(e,t){if(Fe(e,"bpmn:Gateway")){var n=e.incoming||[],r=e.outgoing||[];n.length>1&&r.length>1&&t.report(e.id,"Gateway forks and joins")}}return{check:e}},De=ke.disallowNodeType,Le=De("bpmn:InclusiveGateway"),Ne=l.is,Ae=function(){function e(e,t){if(Ne(e,"bpmn:FlowElementsContainer")){var n=e.flowElements||[],r=n.filter((function(e){if(!Ne(e,"bpmn:StartEvent"))return!1;var t=e.eventDefinitions||[];return 0===t.length}));if(r.length>1){var a=Ne(e,"bpmn:SubProcess")?"Sub process":"Process";t.report(e.id,a+" has multiple blank start events")}}}return{check:e}},Re=l.is,ze=function(){function e(e,t){if(Re(e,"bpmn:Event")){var n=e.eventDefinitions||[];n.length>1&&t.report(e.id,"Event has multiple event definitions")}}return{check:e}},qe=l.is,Ie=function(){function e(e,t){if(qe(e,"bpmn:SubProcess")&&!e.triggeredByEvent){var n=e.flowElements||[];n.forEach((function(e){if(!qe(e,"bpmn:StartEvent"))return!1;var n=e.eventDefinitions||[];n.length>0&&t.report(e.id,"Start event must be blank")}))}}return{check:e}},He=l.is,Ve=function(){function e(e,t){if(He(e,"bpmn:Gateway")){var n=e.incoming||[],r=e.outgoing||[];1===n.length&&1===r.length&&t.report(e.id,"Gateway is superfluous. It only has one source and target.")}}return{check:e}},Ge=(l.is,l.isAny),Xe=function(){function e(e,t){if(Ge(e,["bpmn:Process"])){var n=(e.name||"").trim();0===n.length&&t.report(e.id,"Process is missing label/name")}}return{check:e}},We=(l.is,l.isAny),Ue=function(){function e(e){var t=e.flowElements||[];return t.some((function(e){return We(e,["bpmn:Task"])&&e.$attrs.taskType}))}function t(t,n){We(t,["bpmn:Process"])&&"Flow"!=t.$attrs.type&&(e(t)||n.report(t.id,"The corresponding node is missing")),(We(t,["bpmn:SubProcess"])||We(t,["bpmn:Process"])&&"Flow"==t.$attrs.type)&&e(t)&&n.report(t.id,"The corresponding node is missing")}return{check:t}},Je=l.is,Ze=l.isAny,Ye=function(){function e(e){var t=e.flowElements||[];return t.some((function(e){return Je(e,"bpmn:StartEvent")}))}function t(t,n){if((!Ze(t,["bpmn:Process"])||"Dag"!=t.$attrs.type)&&Ze(t,["bpmn:Process","bpmn:SubProcess"])&&!e(t)){var r=Je(t,"bpmn:SubProcess")?"Sub process":"Process";n.report(t.id,r+" is missing start event")}}return{check:t}},Ke=l.is,Qe=l.isAny,et=function(){function e(e){var t=e.flowElements||[];return t.some((function(e){return Ke(e,"bpmn:EndEvent")}))}function t(t,n){if((!Qe(t,["bpmn:Process"])||"Dag"!=t.$attrs.type)&&Qe(t,["bpmn:Process","bpmn:SubProcess"])&&!e(t)){var r=Ke(t,"bpmn:SubProcess")?"Sub process":"Process";n.report(t.id,r+" is missing end event")}}return{check:t}},tt={};function nt(){}nt.prototype.resolveRule=function(e,t){var n=tt[e+"/"+t];if(!n)throw new Error("cannot resolve rule <"+e+"/"+t+">");return n},nt.prototype.resolveConfig=function(e,t){throw new Error("cannot resolve config <"+t+"> in <"+e+">")};var rt=new nt,at={"conditional-flows":"error","event-sub-process-typed-start-event":"error","fake-join":"warn","label-required":"error","no-bpmndi":"error","no-complex-gateway":"error","no-disconnected":"warn","no-duplicate-sequence-flows":"error","no-gateway-join-fork":"error","no-inclusive-gateway":"error","single-blank-start-event":"error","single-event-definition":"error","sub-process-blank-start-event":"error","superfluous-gateway":"warning","custom/process-label-required":"error","custom/dag-node-required":"error","custom/subprocess-start-event-required":"error","custom/subprocess-end-event-required":"error"},it={rules:at},ot={resolver:rt,config:it};tt["bpmnlint/conditional-flows"]=r,tt["bpmnlint/event-sub-process-typed-start-event"]=d,tt["bpmnlint/fake-join"]=m,tt["bpmnlint/label-required"]=b,tt["bpmnlint/no-bpmndi"]=pe,tt["bpmnlint/no-complex-gateway"]=we,tt["bpmnlint/no-disconnected"]=Ee,tt["bpmnlint/no-duplicate-sequence-flows"]=Me,tt["bpmnlint/no-gateway-join-fork"]=$e,tt["bpmnlint/no-inclusive-gateway"]=Le,tt["bpmnlint/single-blank-start-event"]=Ae,tt["bpmnlint/single-event-definition"]=ze,tt["bpmnlint/sub-process-blank-start-event"]=Ie,tt["bpmnlint/superfluous-gateway"]=Ve,tt["bpmnlint-plugin-custom/process-label-required"]=Xe,tt["bpmnlint-plugin-custom/dag-node-required"]=Ue,tt["bpmnlint-plugin-custom/subprocess-start-event-required"]=Ye,tt["bpmnlint-plugin-custom/subprocess-end-event-required"]=et,t.config=it,t.default=ot,t.resolver=rt},b2d3:function(e,t,n){},ba9e:function(e,t,n){},c6f3:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("e055"),a=n("1166"),i=n("2ac4");n("e812");e.exports=function(e,t,n,o){var s=r(t,n,{id:"properties",modelProperties:["name","value"],labels:[o("Up"),o("Down")],getParent:function(e,t,n){return n.extensionElements},createParent:function(e,t){var r=a.createElement("bpmn:ExtensionElements",{values:[]},t,n),o=i.updateBusinessObject(e,t,{extensionElements:r});return{cmd:o,parent:r}}},o);s&&e.entries.push(s)}},d1f8:function(e,t,n){"use strict";n("99af"),n("d81d"),n("4de4"),n("159b"),n("d3b7"),n("25f0");var r=n("e356"),a=n("87f2"),i=n("e506"),o=n("6730"),s=n("7a6b");function c(e,t){var n=e.get("editorActions",!1);n&&n.register({toggleLinting:function(){t.toggle()}})}c.$inject=["injector","linting"];var l='<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 512 512"><path fill="currentColor" d="M288 328.83c-45.518 0-82.419 34.576-82.419 77.229 0 42.652 36.9 77.229 82.419 77.229 45.518 0 82.419-34.577 82.419-77.23 0-42.652-36.9-77.229-82.419-77.229zM207.439 57.034l11.61 204.348c.544 9.334 8.78 16.64 18.755 16.64h100.392c9.975 0 18.211-7.306 18.754-16.64l11.611-204.348c.587-10.082-7.98-18.56-18.754-18.56H226.192c-10.775 0-19.34 8.478-18.753 18.56z"/></svg>',d='<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg>',p=-7,m=-7,h=500,f={resolver:{resolveRule:function(){return null}},config:{}},b={error:l,warning:u,success:d,inactive:d};function g(e,t,n,r,a,i,o){this._bpmnjs=e,this._canvas=t,this._elementRegistry=r,this._eventBus=a,this._overlays=i,this._translate=o,this._issues={},this._active=n&&n.active||!1,this._linterConfig=f,this._overlayIds={};var s=this;a.on(["import.done","elements.changed","linting.configChanged","linting.toggle"],h,(function(e){s.isActive()&&s.update()})),a.on("linting.toggle",(function(e){var t=e.active;t||(s._clearIssues(),s._updateButton())})),a.on("diagram.clear",(function(){s._clearIssues()}));var c=n&&n.bpmnlint;c&&a.once("diagram.init",(function(){if(s.getLinterConfig()===f)try{s.setLinterConfig(c)}catch(e){console.error("[bpmn-js-bpmnlint] Invalid lint rules configured. Please doublecheck your linting.bpmnlint configuration, cf. https://github.com/bpmn-io/bpmn-js-bpmnlint#configure-lint-rules")}})),this._init()}g.prototype.setLinterConfig=function(e){if(!e.config||!e.resolver)throw new Error("Expected linterConfig = { config, resolver }");this._linterConfig=e,this._eventBus.fire("linting.configChanged")},g.prototype.getLinterConfig=function(){return this._linterConfig},g.prototype._init=function(){this._createButton(),this._updateButton()},g.prototype.isActive=function(){return this._active},g.prototype._formatIssues=function(e){var t=this,n=a.reduce(e,(function(e,t,n){return e.concat(t.map((function(e){return e.rule=n,e})))}),[]),r=t._elementRegistry.filter((function(e){return s.is(e,"bpmn:Participant")})),i=r.map((function(e){return e.businessObject}));return n=a.map(n,(function(e){var n=t._elementRegistry.get(e.id);if(!n){e.isChildIssue=!0,e.actualElementId=e.id;var r=i.filter((function(t){return t.processRef&&t.processRef.id&&t.processRef.id===e.id}));r.length?e.id=r[0].id:e.id=t._canvas.getRootElement().id}return e})),n=a.groupBy(n,(function(e){return e.id})),n},g.prototype.toggle=function(e){return e="undefined"===typeof e?!this.isActive():e,this._setActive(e),e},g.prototype._setActive=function(e){this._active!==e&&(this._active=e,this._eventBus.fire("linting.toggle",{active:e}))},g.prototype.update=function(){var e=this,t=this._bpmnjs.getDefinitions();if(t){var n=this._lintStart=Math.random();this.lint().then((function(t){if(e._lintStart===n){t=e._formatIssues(t);var r={},i={},o={};for(var s in e._issues)t[s]||(r[s]=e._issues[s]);for(var c in t)e._issues[c]?t[c]!==e._issues[c]&&(i[c]=t[c]):o[c]=t[c];r=a.assign(r,i),o=a.assign(o,i),e._clearOverlays(),e._createIssues(o),e._issues=t,e._updateButton(),e._fireComplete(t)}}))}},g.prototype._fireComplete=function(e){this._eventBus.fire("linting.completed",{issues:e})},g.prototype._createIssues=function(e){for(var t in e)this._createElementIssues(t,e[t])},g.prototype._createElementIssues=function(e,t){var n=this._elementRegistry.get(e);if(n){var r,o;n===this._canvas.getRootElement()?(r="bottom-right",o={top:20,left:150}):(r="top-right",o={top:p,left:m});var s=a.groupBy(t,(function(e){return(e.isChildIssue?"child":"")+e.category})),c=s.error,d=s.warn,h=s.childerror,f=s.childwarning;if(c||d||h||f){var b=i.domify('<div class="bjsl-overlay bjsl-issues-'+r+'"></div>'),g=c||h?i.domify('<div class="bjsl-icon bjsl-icon-error">'+l+"</div>"):i.domify('<div class="bjsl-icon bjsl-icon-warning">'+u+"</div>"),v=i.domify('<div class="bjsl-dropdown"></div>'),y=i.domify('<div class="bjsl-dropdown-content"></div>'),_=i.domify('<div class="bjsl-issues"></div>'),k=i.domify('<div class="bjsl-current-element-issues"></div>'),x=i.domify("<ul></ul>");if(b.appendChild(g),b.appendChild(v),v.appendChild(y),y.appendChild(_),_.appendChild(k),k.appendChild(x),c&&this._addErrors(x,c),d&&this._addWarnings(x,d),h||f){var w=i.domify('<div class="bjsl-child-issues"></div>'),O=i.domify("<ul></ul>"),P=i.domify('<a class="bjsl-issue-heading">Issues for child elements:</a>');if(h&&this._addErrors(O,h),f&&this._addWarnings(O,f),c||d){var E=i.domify("<hr/>");w.appendChild(E)}w.appendChild(P),w.appendChild(O),_.appendChild(w)}if(this.overlaysOuter=this._overlays._overlayRoot.previousElementSibling,this.overlaysOuter&&this.overlaysOuter.getAttribute("data-container-id")&&this.overlaysOuter.getAttribute("data-container-id")==this._canvas.getRootElement().id);else if(n===this._canvas.getRootElement()){var S=i.domify('<div class="djs-overlays-outer" style="position: absolute; left: 150px"  data-container-id="'+n.id+'"></div>');return this.overlaysOuter?this.overlaysOuter.parentNode.insertBefore(S,this.overlaysOuter.nextElementSibling):this._overlays._overlayRoot.parentNode.insertBefore(S,this._overlays._overlayRoot),this.overlaysOuter=S,void this.overlaysOuter.appendChild(b)}this._overlayIds[e]=this._overlays.add(n,"linting",{position:o,html:b,scale:{min:.9}})}}},g.prototype._addErrors=function(e,t){var n=this;t.forEach((function(t){n._addEntry(e,"error",t)}))},g.prototype._addWarnings=function(e,t){var n=this;t.forEach((function(t){n._addEntry(e,"warning",t)}))},g.prototype._addEntry=function(e,t,n){var r=n.rule,a=this._translate(n.message),s=n.actualElementId,c=b[t],l=i.domify('<li class="'+t+'"><span class="icon"> '+c+'</span><a title="'+o.escapeHTML(r)+": "+o.escapeHTML(a)+'" data-rule="'+o.escapeHTML(r)+'" data-message="'+o.escapeHTML(a)+'">'+o.escapeHTML(a)+"</a>"+(s?'<a class="bjsl-id-hint"><code>'+s+"</code></a>":"")+"</li>");e.appendChild(l)},g.prototype._clearOverlays=function(){this.overlaysOuter&&(this.overlaysOuter.parentNode.removeChild(this.overlaysOuter),this.overlaysOuter=null),this._overlays.remove({type:"linting"}),this._overlayIds={}},g.prototype._clearIssues=function(){this._issues={},this._clearOverlays()},g.prototype._setButtonState=function(e,t,n){var r=this._button,a=b[e],i=a+"<span>"+this._translate("{errors} Errors, {warnings} Warnings",{errors:t.toString(),warnings:n.toString()})+"</span>";["error","inactive","success","warning"].forEach((function(t){e===t?r.classList.add("bjsl-button-"+t):r.classList.remove("bjsl-button-"+t)})),r.innerHTML=i},g.prototype._updateButton=function(){if(this.isActive()){var e=0,t=0;for(var n in this._issues)this._issues[n].forEach((function(n){"error"===n.category?e++:"warn"===n.category&&t++}));var r=(e?"error":t&&"warning")||"success";this._setButtonState(r,e,t)}else this._setButtonState("inactive",0,0)},g.prototype._createButton=function(){var e=this;this._button=i.domify('<button class="bjsl-button bjsl-button-inactive" title="'+this._translate("Toggle linting")+'"></button>'),this._button.addEventListener("click",(function(){e.toggle()})),this._canvas.getContainer().appendChild(this._button)},g.prototype.lint=function(){var e=this._bpmnjs.getDefinitions(),t=new r.Linter(this._linterConfig);return t.lint(e)},g.$inject=["bpmnjs","canvas","config.linting","elementRegistry","eventBus","overlays","translate"];var v={__init__:["linting","lintingEditorActions"],linting:["type",g],lintingEditorActions:["type",c]};e.exports=v},d2c7:function(e,t,n){},e055:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,a=n("7a6b").is,i=n("e812"),o=n("1166"),s=n("2ad3"),c=n("2ac4"),l=n("3079"),u=n("dce5"),d=n("6cd4"),p=n("2769");function m(){return l.nextId("Property_")}function h(e){var t=e&&f(e);return t&&t.values?t.values:[]}function f(e){return g(e)?b(e):e.properties}function b(e){return p(e.values,(function(e){return a(e,"camunda:Properties")}))}function g(e){return a(e,"bpmn:ExtensionElements")}e.exports=function(e,t,n,p){var b=n.getParent,v=n.modelProperties,y=n.createParent,_=r(e);if(a(e,"bpmn:Participant")&&(_=_.get("processRef")),_)return u(n,{addLabel:p("Add Edge"),getElements:function(e,t){var n=b(e,t,_);return h(n)},addElement:function(e,n){var r=[],a=b(e,n,_);if(!a&&"function"===typeof y){var i=y(e,_);a=i.parent,r.push(i.cmd)}var s=f(a);s||(s=o.createElement("camunda:Properties",{},a,t),g(a)?r.push(c.addAndRemoveElementsFromList(e,a,"values","extensionElements",[s],[])):r.push(c.updateBusinessObject(e,a,{properties:s})));var l={};d(v,(function(e){l[e]=void 0})),v.indexOf("id")>=0&&(l.id=m());var u=o.createElement("camunda:Property",l,s,t);return r.push(c.addElementsTolist(e,s,"values",[u])),r},updateElement:function(e,t,n,r){var a=b(e,n,_),i=h(a)[r];return d(v,(function(e){t[e]=t[e]||void 0})),c.updateBusinessObject(e,i,t)},validate:function(e,t,n,r){if(v.indexOf("id")>=0){var a=b(e,n,_),i=h(a),o=i[r];if(o){var s=l.isIdValid(o,t.id,p);if(s)return{id:s}}}},removeElement:function(e,t,n){var r=[],i=b(e,t,_),o=f(i),l=h(i),u=l[n];return r.push(c.removeElementsFromList(e,o,"values",null,[u])),1===l.length&&(g(i)?d(i.values,(function(t){a(t,"camunda:Properties")&&r.push(s.removeEntry(_,e,t))})):r.push(c.updateBusinessObject(e,i,{properties:void 0}))),r}}),i.table(p,n)}},feca:function(e,t,n){"use strict";n("6e86")}});